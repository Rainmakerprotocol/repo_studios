api/cache/invalidation.py:110: error: Module "api_cache_shared" has no attribute "NEGATIVE_PATHS_SHARED"  [attr-defined]
agents/core/monitoring/exceptions.py:164: error: Item "None" of "FrameType | None" has no attribute "f_back"  [union-attr]
api/metrics_range.py:80: error: Argument 1 to "int" has incompatible type "float | int | Any | dict[Any, Any]"; expected "str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc"  [arg-type]
api/metrics_range.py:82: error: Argument 1 to "append" of "list" has incompatible type "float | int | Any | dict[Any, Any]"; expected "float"  [arg-type]
api/chat_logging.py:258: error: Incompatible types in assignment (expression has type "dict[str, Any | None]", target has type "str")  [assignment]
api/chat_logging.py:324: error: Dict entry 0 has incompatible type "str": "Any | None"; expected "str": "str"  [dict-item]
api/chat_logging.py:325: error: Dict entry 1 has incompatible type "str": "Any | None"; expected "str": "str"  [dict-item]
api/chat_logging.py:326: error: Dict entry 2 has incompatible type "str": "Any | None"; expected "str": "str"  [dict-item]
agents/system/diagnostic_agent/__init__.py:62: error: Cannot assign to a type  [misc]
agents/system/diagnostic_agent/__init__.py:62: note: Error code "misc" not covered by "type: ignore" comment
agents/system/diagnostic_agent/__init__.py:63: error: Cannot assign to a type  [misc]
agents/system/diagnostic_agent/__init__.py:63: note: Error code "misc" not covered by "type: ignore" comment
agents/system/diagnostic_agent/__init__.py:64: error: Cannot assign to a type  [misc]
agents/system/diagnostic_agent/__init__.py:64: note: Error code "misc" not covered by "type: ignore" comment
agents/system/diagnostic_agent/__init__.py:65: error: Cannot assign to a type  [misc]
agents/system/diagnostic_agent/__init__.py:65: note: Error code "misc" not covered by "type: ignore" comment
agents/system/diagnostic_agent/__init__.py:66: error: Cannot assign to a type  [misc]
agents/system/diagnostic_agent/__init__.py:66: note: Error code "misc" not covered by "type: ignore" comment
agents/system/diagnostic_agent/__init__.py:37: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/diagnostic_agent/__init__.py:67: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/diagnostic_agent/__init__.py:68: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/diagnostic_agent/__init__.py:69: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/diagnostic_agent/__init__.py:70: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/visualization/utils/data_processing.py:151: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/visualization/utils/data_processing.py:170: error: Argument 1 to "fromkeys" of "dict" has incompatible type "list[float]"; expected "Iterable[int]"  [arg-type]
agents/core/monitoring/visualization/utils/data_processing.py:192: error: Incompatible return value type (got "dict[float, float]", expected "dict[int, float]")  [return-value]
agents/core/monitoring/visualization/utils/data_processing.py:325: error: Value of type variable "SupportsRichComparisonT" of "sorted" cannot be "Any | None"  [type-var]
agents/core/monitoring/visualization/utils/data_processing.py:326: error: Value of type variable "SupportsRichComparisonT" of "sorted" cannot be "Any | None"  [type-var]
agents/core/monitoring/visualization/utils/data_processing.py:331: error: Need type annotation for "grouped"  [var-annotated]
agents/core/monitoring/visualization/utils/data_processing.py:343: error: Incompatible return value type (got "tuple[list[Any | None], list[Any | None], list[list[float]]]", expected "tuple[list[str], list[str], list[list[float]]]")  [return-value]
agents/core/monitoring/metrics_storage/time_series/models.py:357: error: Unsupported left operand type for - ("T")  [operator]
agents/core/monitoring/metrics_storage/time_series/models.py:386: error: Need type annotation for "points"  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:110: error: Incompatible default for argument "metrics" (default has type "None", argument has type "list[str]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:110: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:110: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:230: error: Incompatible default for argument "metrics" (default has type "None", argument has type "list[str]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:230: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:230: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:334: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:335: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:339: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:374: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:391: error: Incompatible default for argument "partitions" (default has type "None", argument has type "list[str]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:391: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:391: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:470: error: Incompatible default for argument "aggregations" (default has type "None", argument has type "dict[str, str]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:470: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:470: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:534: error: Name "build_batch_query" already defined on line 83  [no-redef]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:538: error: Incompatible default for argument "id_ranges" (default has type "None", argument has type "list[tuple[int, int]]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:538: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:538: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:602: error: Incompatible types in assignment (expression has type "tuple[str]", variable has type "tuple[str, str]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:653: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:677: error: Name "get_recommended_indexes" already defined on line 56  [no-redef]
agents/core/monitoring/metrics_storage/storage/db_runtime/pagination.py:59: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/db_runtime/pagination.py:73: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/db_runtime/pagination.py:75: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/db_runtime/analyzer.py:47: error: Argument 1 to "dict" has incompatible type "enumerate[Any]"; expected "Iterable[tuple[str, Any]]"  [arg-type]
agents/core/monitoring/metrics_storage/exceptions.py:205: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str | int")  [assignment]
agents/core/monitoring/metrics_storage/exceptions.py:208: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "str | int")  [assignment]
agents/core/monitoring/metrics_storage/exceptions.py:426: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "str")  [assignment]
agents/core/monitoring/metrics_storage/exceptions.py:610: error: Incompatible types in assignment (expression has type "str", target has type "dict[str, str]")  [assignment]
agents/core/persistence.py:61: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/persistence.py:80: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/persistence.py:85: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/intent_router.py:249: error: Name "out" already defined on line 221  [no-redef]
agents/core/intent_router.py:358: error: Argument 1 to "float" has incompatible type "object"; expected "str | Buffer | SupportsFloat | SupportsIndex"  [arg-type]
agents/core/intent_router.py:454: error: Item "None" of "object | None" has no attribute "iter"  [union-attr]
agents/core/intent_router.py:454: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/intent_router.py:531: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/intent_router.py:538: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/intent_router.py:542: error: Item "None" of "str | None" has no attribute "strip"  [union-attr]
agents/core/intent_router.py:684: error: Incompatible return value type (got "tuple[IntentHints, dict[str, dict[str, list[str]] | dict[str, float] | str | float | None]]", expected "tuple[IntentHints, dict[str, object]]")  [return-value]
agents/core/intent_router.py:163: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/intent_router.py:454: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/intent_router.py:659: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/sync_engine.py:102: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/instrumentation/inference_latency_mixin.py:45: error: Cannot determine type of "run_inference_with_stats"  [has-type]
agents/core/monitoring/instrumentation/inference_latency_mixin.py:45: note: Error code "has-type" not covered by "type: ignore" comment
agents/core/monitoring/instrumentation/inference_latency_mixin.py:45: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/instrumentation/inference_latency_mixin.py:50: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/error_tracker.py:84: error: Need type annotation for "recent_errors" (hint: "recent_errors: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:85: error: Need type annotation for "error_counts"  [var-annotated]
agents/core/monitoring/error_tracker.py:86: error: Need type annotation for "last_notifications" (hint: "last_notifications: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:87: error: Need type annotation for "notification_counts" (hint: "notification_counts: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:93: error: Need type annotation for "_recent_error_set" (hint: "_recent_error_set: set[<type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:94: error: Need type annotation for "_pattern_cache" (hint: "_pattern_cache: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:383: error: Value of type "object" is not indexable  [index]
agents/core/monitoring/error_tracker.py:383: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/error_tracker.py:392: error: Value of type "object" is not indexable  [index]
agents/core/monitoring/error_tracker.py:392: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/error_tracker.py:400: error: "object" has no attribute "append"  [attr-defined]
agents/core/monitoring/error_tracker.py:423: error: Incompatible return value type (got "dict[Any, Any]", expected "list[dict[str, Any]]")  [return-value]
agents/core/monitoring/error_tracker.py:437: error: Incompatible types in assignment (expression has type "list[dict[str, Any]]", variable has type "dict[Any, Any]")  [assignment]
agents/core/monitoring/error_tracker.py:449: error: Need type annotation for "patterns" (hint: "patterns: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:475: error: Need type annotation for "error_types"  [var-annotated]
agents/core/monitoring/error_tracker.py:515: error: Need type annotation for "component_windows"  [var-annotated]
agents/core/monitoring/error_tracker.py:696: error: Need type annotation for "errors" (hint: "errors: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:730: error: Need type annotation for "filtered_errors" (hint: "filtered_errors: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/error_tracker.py:797: error: Need type annotation for "daily_counts"  [var-annotated]
agents/core/monitoring/error_tracker.py:821: error: "object" has no attribute "append"  [attr-defined]
agents/core/monitoring/error_tracker.py:837: error: "object" has no attribute "sort"  [attr-defined]
agents/core/monitoring/error_tracker.py:896: error: Name "error_id" is not defined  [name-defined]
api/metrics/exposition/memory.py:124: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/backend.py:20: error: Incompatible return value type (got "RedisBackend", expected "BaseBackend | None")  [return-value]
api/cache/backend.py:18: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/api_client.py:26: error: Library stubs not installed for "requests"  [import-untyped]
agents/interface/chainlit/api_client.py:380: error: Unexpected keyword argument "ttl" for "set" of "TTLCache"  [call-arg]
agents/interface/chainlit/api_client.py:413: error: Incompatible types in assignment (expression has type "bool", target has type "str")  [assignment]
agents/interface/chainlit/api_client.py:770: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_widgets_format_helpers_extra.py:1: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_widgets_additional_branches.py:18: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_status_widget_snapshot.py:69: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_status_widget_snapshot.py:74: error: Argument 1 to "render_status" has incompatible type "StatusSnapshot | None"; expected "StatusSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_status_widget_hash_stability.py:14: error: Argument 1 to "render_status" has incompatible type "StatusSnapshot | None"; expected "StatusSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_status_widget_hash_stability.py:15: error: Argument 1 to "render_status" has incompatible type "StatusSnapshot | None"; expected "StatusSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_status_widget_hash_stability.py:40: error: Argument 1 to "render_status" has incompatible type "StatusSnapshot | None"; expected "StatusSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_status_widget_hash_stability.py:41: error: Argument 1 to "render_status" has incompatible type "StatusSnapshot | None"; expected "StatusSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_status_widget_basic.py:101: error: Unsupported operand types for - ("None" and "float")  [operator]
agents/interface/chainlit/tests/test_status_widget_basic.py:101: note: Left operand is of type "float | None"
agents/interface/chainlit/tests/test_status_widget_basic.py:114: error: Unsupported operand types for <= ("float" and "None")  [operator]
agents/interface/chainlit/tests/test_status_widget_basic.py:114: note: Right operand is of type "float | None"
agents/interface/chainlit/tests/test_status_widget_basic.py:114: error: Unsupported operand types for >= ("float" and "None")  [operator]
agents/interface/chainlit/tests/test_status_widget_basic.py:114: note: Left operand is of type "float | None"
agents/interface/chainlit/tests/test_cache_config_widgets_main.py:9: error: Need type annotation for "c"  [var-annotated]
agents/interface/chainlit/tests/test_cache_config_widgets_main.py:29: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/components/sidebar.py:113: error: Item "None" of "Any | None" has no attribute "edit_message"  [union-attr]
agents/interface/chainlit/components/sidebar.py:119: error: Item "None" of "Any | None" has no attribute "Message"  [union-attr]
agents/core/monitoring/metrics_storage/retention_policies.py:30: error: Name "MetricImportance" already defined (possibly by an import)  [no-redef]
agents/core/monitoring/metrics_storage/retention_policies.py:340: error: "type" has no attribute "_from_dict_impl"  [attr-defined]
agents/core/monitoring/metrics_storage/retention_policies.py:410: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:410: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:410: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:427: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:427: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:427: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:457: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:457: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:457: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:570: error: Incompatible types in assignment (expression has type "AggregationStrategy", target has type "RetentionAction")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:574: error: Incompatible types in assignment (expression has type "AggregationStrategy", target has type "RetentionAction")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:580: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:580: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:580: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:607: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:607: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:607: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:627: error: Too many arguments for "get_action" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:631: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:631: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:631: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:649: error: Incompatible return value type (got "RetentionAction", expected "AggregationStrategy | None")  [return-value]
agents/core/monitoring/metrics_storage/retention_policies.py:653: error: Too many arguments for "get_aggregation_strategy" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:672: error: "RetentionAction" has no attribute "to_dict"  [attr-defined]
agents/core/monitoring/metrics_storage/retention_policies.py:740: error: Incompatible types in assignment (expression has type "AggregationStrategy", target has type "RetentionAction")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:744: error: Incompatible types in assignment (expression has type "AggregationStrategy", target has type "RetentionAction")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:750: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:750: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:750: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:783: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:783: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:783: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:808: error: Too many arguments for "get_action" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:812: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:812: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:812: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:836: error: Incompatible return value type (got "RetentionAction", expected "AggregationStrategy | None")  [return-value]
agents/core/monitoring/metrics_storage/retention_policies.py:842: error: Too many arguments for "get_aggregation_strategy" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:861: error: "RetentionAction" has no attribute "to_dict"  [attr-defined]
agents/core/monitoring/metrics_storage/retention_policies.py:957: error: Incompatible types in assignment (expression has type "AggregationStrategy", target has type "RetentionAction")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:961: error: Incompatible types in assignment (expression has type "AggregationStrategy", target has type "RetentionAction")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:981: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:981: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:981: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:1042: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:1042: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:1042: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:1062: error: Too many arguments for "get_action" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1066: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:1066: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:1066: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:1088: error: Too many arguments for "get_aggregation_strategy" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1183: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:1183: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:1183: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:1198: error: Too many arguments for "applies_to" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1201: error: Too many arguments for "applies_to" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1203: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:1203: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:1203: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:1228: error: Too many arguments for "applies_to" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1231: error: Too many arguments for "applies_to" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1232: error: Too many arguments for "get_action" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1246: error: Incompatible default for argument "data" (default has type "None", argument has type "dict[str, Any]")  [assignment]
agents/core/monitoring/metrics_storage/retention_policies.py:1246: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/retention_policies.py:1246: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/retention_policies.py:1262: error: Too many arguments for "applies_to" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1263: error: Too many arguments for "get_aggregation_strategy" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1599: error: Too many arguments for "applies_to" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1600: error: Too many arguments for "get_action" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/retention_policies.py:1638: error: Too many arguments for "get_aggregation_strategy" of "RetentionPolicy"  [call-arg]
agents/core/monitoring/metrics_storage/backup/verification.py:74: error: Unexpected keyword argument "code" for "__init__" of "MetricsStorageException"  [call-arg]
agents/core/monitoring/metrics_storage/exceptions.py:114: note: "__init__" of "MetricsStorageException" defined here
agents/core/monitoring/metrics_storage/backup/verification.py:78: error: Argument "component" to "__init__" of "MetricsStorageException" has incompatible type "str"; expected "ErrorComponent | None"  [arg-type]
agents/core/monitoring/metrics_storage/backup/verification.py:299: error: Need type annotation for "_verification_cache" (hint: "_verification_cache: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/backup/verification.py:558: error: Incompatible redefinition (redefinition with type "Callable[[Any], Any]", original type overloaded function)  [misc]
agents/core/monitoring/metrics_storage/backup/verification.py:639: error: Incompatible redefinition (redefinition with type "Callable[[Any], Any]", original type overloaded function)  [misc]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:75: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:79: error: "ResourceMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:129: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:139: error: "ResourceMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:178: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:189: error: "ResourceMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:258: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:262: error: "ResourceMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:312: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:350: error: "ResourceMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:366: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:388: error: "ResourceMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:403: error: "ResourceMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:458: error: "Collection[str]" has no attribute "append"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:464: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:465: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:467: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:468: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:470: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:471: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:477: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:478: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:480: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:481: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:483: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:484: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:498: error: "ResourceMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/resource_metrics.py:502: error: "ResourceMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:31: error: "ModelMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:35: error: "ModelMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:180: error: "ModelMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:186: error: Unexpected keyword argument "start_time" for "build_model_metrics_query" of "QueryBuilder"  [call-arg]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:224: note: "build_model_metrics_query" of "QueryBuilder" defined here
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:195: error: "ModelMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:229: error: "ModelMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/model_metrics.py:233: error: "ModelMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:33: error: "ErrorMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:37: error: "ErrorMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:90: error: "ErrorMetricsDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:97: error: Unsupported operand types for <= ("tuple[int, int]" and "int")  [operator]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:97: error: No overload variant of "__add__" of "tuple" matches argument type "int"  [operator]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:97: note: Possible overload variants:
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:97: note:     def __add__(self, tuple[int, ...], /) -> tuple[int, ...]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:97: note:     def [_T] __add__(self, tuple[_T, ...], /) -> tuple[int | _T, ...]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:136: error: "ErrorMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:141: error: Unexpected keyword argument "start_time" for "build_error_query" of "QueryBuilder"  [call-arg]
agents/core/monitoring/metrics_storage/db_storage/query_builder.py:299: note: "build_error_query" of "QueryBuilder" defined here
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:141: error: Unexpected keyword argument "end_time" for "build_error_query" of "QueryBuilder"  [call-arg]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:141: error: Unexpected keyword argument "limit" for "build_error_query" of "QueryBuilder"  [call-arg]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:152: error: "ErrorMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:161: error: "ErrorMetricsDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:183: error: "ErrorMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:187: error: "ErrorMetricsDatabaseMixin" has no attribute "db_path"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:283: error: "ErrorMetricsDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:296: error: "ErrorMetricsDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:321: error: "ErrorMetricsDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:326: error: Need type annotation for "patterns" (hint: "patterns: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:339: error: "ErrorMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:368: error: Need type annotation for "patterns" (hint: "patterns: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:378: error: "ErrorMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:437: error: "ErrorMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/error_metrics.py:497: error: "ErrorMetricsDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/time_series/collection.py:190: error: Need type annotation for "result"  [var-annotated]
agents/core/monitoring/metrics_storage/time_series/collection.py:285: error: Need type annotation for "buckets" (hint: "buckets: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:365: error: Incompatible types in assignment (expression has type "float", target has type "Collection[object]")  [assignment]
agents/core/monitoring/metrics_storage/query/__init__.py:452: error: Need type annotation for "where_clauses" (hint: "where_clauses: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:453: error: Need type annotation for "group_by_clauses" (hint: "group_by_clauses: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:454: error: Need type annotation for "order_by_clauses" (hint: "order_by_clauses: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:455: error: Need type annotation for "join_clauses" (hint: "join_clauses: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:456: error: Need type annotation for "having_clauses" (hint: "having_clauses: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:459: error: Need type annotation for "parameters" (hint: "parameters: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:689: error: Incompatible types in assignment (expression has type "int", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/query/__init__.py:702: error: Incompatible types in assignment (expression has type "int", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/query/__init__.py:1081: error: Need type annotation for "entries" (hint: "entries: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/query/__init__.py:1082: error: Need type annotation for "keys" (hint: "keys: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:72: error: Need type annotation for "errors" (hint: "errors: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:75: error: Need type annotation for "processed_files" (hint: "processed_files: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:76: error: Need type annotation for "compressed_files" (hint: "compressed_files: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:77: error: Need type annotation for "archived_files" (hint: "archived_files: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:78: error: Need type annotation for "deleted_files" (hint: "deleted_files: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:79: error: Need type annotation for "skipped_files" (hint: "skipped_files: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:80: error: Need type annotation for "orphaned_files" (hint: "orphaned_files: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:242: error: Incompatible types in assignment (expression has type "datetime", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/cleanup_utils.py:839: error: Need type annotation for "files_by_category" (hint: "files_by_category: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:64: error: Need type annotation for "cache" (hint: "cache: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:69: error: Incompatible types in assignment (expression has type "_LRUNode", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:70: error: Incompatible types in assignment (expression has type "_LRUNode", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:142: error: Incompatible types in assignment (expression has type "_LRUNode", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:143: error: Incompatible types in assignment (expression has type "_LRUNode", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:171: error: Incompatible types in assignment (expression has type "_LRUNode", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:173: error: "None" has no attribute "prev"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:174: error: Incompatible types in assignment (expression has type "_LRUNode", variable has type "None")  [assignment]
agents/core/monitoring/metrics_storage/storage/memory_storage.py:312: error: Need type annotation for "storage" (hint: "storage: dict[<type>, <type>] = ...")  [var-annotated]
agents/companion/voice/subproc_helper.py:98: error: Unused "type: ignore" comment  [unused-ignore]
agents/companion/voice/subproc_helper.py:116: error: Unused "type: ignore" comment  [unused-ignore]
agents/companion/voice/subproc_helper.py:125: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/resource_monitor.py:172: error: Incompatible types in assignment (expression has type "GPUMonitor", variable has type "None")  [assignment]
agents/core/monitoring/resource_monitor.py:173: error: "None" has no attribute "is_available"  [attr-defined]
agents/core/monitoring/resource_monitor.py:174: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:175: error: "None" has no attribute "get_gpu_info"  [attr-defined]
agents/core/monitoring/resource_monitor.py:179: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:196: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:245: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:272: error: Incompatible return value type (got "dict[str, Collection[str]]", expected "SystemMetrics")  [return-value]
agents/core/monitoring/resource_monitor.py:277: error: "Collection[str]" has no attribute "append"  [attr-defined]
agents/core/monitoring/resource_monitor.py:278: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:279: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:281: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:283: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:284: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:285: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:287: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:288: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:289: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:305: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:320: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:331: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:332: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:332: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:333: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:333: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:334: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:335: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:335: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:339: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:339: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:342: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:342: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:343: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:343: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:347: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:347: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:348: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:348: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:349: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/monitoring/resource_monitor.py:349: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:351: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:352: error: Value of type "Collection[str]" is not indexable  [index]
agents/core/monitoring/resource_monitor.py:412: error: Incompatible types in assignment (expression has type "Thread", variable has type "None")  [assignment]
agents/core/monitoring/resource_monitor.py:413: error: "None" has no attribute "daemon"  [attr-defined]
agents/core/monitoring/resource_monitor.py:414: error: "None" has no attribute "start"  [attr-defined]
agents/core/monitoring/resource_monitor.py:463: error: Dict entry 2 has incompatible type "str": "list[Any]"; expected "str": "float | None"  [dict-item]
agents/core/monitoring/resource_monitor.py:464: error: Dict entry 3 has incompatible type "str": "list[Any]"; expected "str": "float | None"  [dict-item]
agents/core/monitoring/resource_monitor.py:465: error: Dict entry 4 has incompatible type "str": "list[Any | int]"; expected "str": "float | None"  [dict-item]
agents/core/monitoring/resource_monitor.py:471: error: Incompatible return value type (got "dict[str, float | None]", expected "SystemStatus")  [return-value]
agents/core/monitoring/resource_monitor.py:22: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/resource_monitor.py:54: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/model_metrics.py:70: error: Need type annotation for "active_sessions" (hint: "active_sessions: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/model_metrics.py:203: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:217: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:252: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:266: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:304: error: Incompatible types in assignment (expression has type "BatchMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:341: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:382: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:397: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:447: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:459: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:471: error: Incompatible types in assignment (expression has type "BatchMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:489: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:501: error: Incompatible types in assignment (expression has type "ModelMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:725: error: "_Wrapped[[VarArg(Any), KwArg(Any)], Any, [VarArg(Any), KwArg(Any)], Any]" has no attribute "tracking_id"  [attr-defined]
agents/core/monitoring/model_metrics.py:751: error: "_Wrapped[[VarArg(Any), KwArg(Any)], Any, [VarArg(Any), KwArg(Any)], Any]" has no attribute "get_tracking_id"  [attr-defined]
agents/core/monitoring/model_metrics.py:805: error: Incompatible types in assignment (expression has type "StreamingMetricsException", variable has type "TrackingException")  [assignment]
agents/core/monitoring/model_metrics.py:1030: error: Incompatible types in assignment (expression has type "Callable[[Any], None]", variable has type "Callable[[Any], bool]")  [assignment]
agents/core/monitoring/model_metrics.py:1030: error: Incompatible return value type (got "None", expected "bool")  [return-value]
agents/core/monitoring/model_metrics.py:1051: error: Need type annotation for "batch_results" (hint: "batch_results: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/model_metrics.py:1127: error: Argument 1 to "_average_batch_metrics" of "BatchedInferenceTracker" has incompatible type "list[dict[Any, Any] | None]"; expected "list[dict[Any, Any]]"  [arg-type]
agents/core/monitoring/model_metrics.py:1202: error: Incompatible default for argument "batch_sizes" (default has type "None", argument has type "list[int]")  [assignment]
agents/core/monitoring/model_metrics.py:1202: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/model_metrics.py:1202: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/model_metrics.py:1320: error: Incompatible types in assignment (expression has type "None", variable has type "ErrorTracker")  [assignment]
agents/core/monitoring/model_metrics.py:1333: error: Value of type "dict[Any, Any] | None" is not indexable  [index]
agents/core/monitoring/model_metrics.py:1334: error: Value of type "dict[Any, Any] | None" is not indexable  [index]
agents/core/model_registry.py:233: error: Argument "family" to "ModelCapability" has incompatible type "object"; expected "str"  [arg-type]
agents/core/model_registry.py:234: error: Argument "strengths" to "ModelCapability" has incompatible type "object"; expected "list[str]"  [arg-type]
agents/core/model_registry.py:235: error: Argument "context_length" to "ModelCapability" has incompatible type "object"; expected "int"  [arg-type]
agents/core/model_registry.py:236: error: Argument "quantization" to "ModelCapability" has incompatible type "object"; expected "str"  [arg-type]
agents/core/model_registry.py:238: error: Argument "languages" to "ModelCapability" has incompatible type "object"; expected "list[str]"  [arg-type]
agents/core/model_registry.py:239: error: Argument "gpu_vram_required" to "ModelCapability" has incompatible type "object"; expected "int"  [arg-type]
agents/core/model_registry.py:324: error: No return value expected  [return-value]
agents/core/model_registry.py:328: error: No return value expected  [return-value]
agents/core/model_registry.py:699: error: Incompatible default for argument "prompt_excerpt" (default has type "None", argument has type "str")  [assignment]
agents/core/model_registry.py:699: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/model_registry.py:699: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/model_registry.py:852: error: Incompatible default for argument "feedback_text" (default has type "None", argument has type "str")  [assignment]
agents/core/model_registry.py:852: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/model_registry.py:852: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/model_registry.py:935: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/model_registry.py:939: error: Dict entry 1 has incompatible type "str": "str"; expected "str": "float | int | None"  [dict-item]
agents/core/model_registry.py:942: error: "Collection[str]" has no attribute "append"  [attr-defined]
agents/core/model_registry.py:1007: error: Incompatible default for argument "model_name" (default has type "None", argument has type "str")  [assignment]
agents/core/model_registry.py:1007: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/model_registry.py:1007: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/model_registry.py:1043: error: Unsupported target for indexed assignment ("Collection[str]")  [index]
agents/core/model_registry.py:1222: error: "object" has no attribute "append"  [attr-defined]
agents/core/model_registry.py:1232: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/model_registry.py:1241: error: Incompatible default for argument "available_vram_mb" (default has type "None", argument has type "int")  [assignment]
agents/core/model_registry.py:1241: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/model_registry.py:1241: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/model_registry.py:1299: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/model_registry.py:120: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:21: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:22: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:22: error: Unsupported operand types for in ("str | Any | None" and "set[str]")  [operator]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:27: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:28: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:35: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:36: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:41: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_ui_config_metric_override.py:42: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_refresh_widgets_additional.py:96: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_extract_values_and_status.py:5: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_error_and_values.py:5: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_error_and_values.py:34: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_metric_trend.py:20: error: Argument 2 to "compute_metric_trend" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_trend.py:21: error: Argument 2 to "compute_metric_trend" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_trend.py:22: error: Argument 2 to "compute_metric_trend" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_trend.py:24: error: Item "None" of "MetricSnapshot | None" has no attribute "trend"  [union-attr]
agents/interface/chainlit/tests/test_metric_trend.py:25: error: Item "None" of "MetricSnapshot | None" has no attribute "trend"  [union-attr]
agents/interface/chainlit/tests/test_metric_trend.py:26: error: Item "None" of "MetricSnapshot | None" has no attribute "trend"  [union-attr]
agents/interface/chainlit/tests/test_metric_trend.py:32: error: Argument 2 to "compute_metric_trend" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_trend.py:33: error: Item "None" of "MetricSnapshot | None" has no attribute "trend"  [union-attr]
agents/interface/chainlit/tests/test_metric_trend.py:34: error: Argument 2 to "compute_metric_deltas" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_trend.py:35: error: Unsupported operand types for - ("None" and "float")  [operator]
agents/interface/chainlit/tests/test_metric_trend.py:35: note: Left operand is of type "float | None"
agents/interface/chainlit/tests/test_metric_snapshot_order_invariance.py:15: error: Item "None" of "MetricSnapshot | None" has no attribute "samples"  [union-attr]
agents/interface/chainlit/tests/test_metric_snapshot_order_invariance.py:21: error: Item "None" of "MetricSnapshot | None" has no attribute "samples"  [union-attr]
agents/interface/chainlit/tests/test_metric_snapshot_numeric_coercion.py:15: error: Item "None" of "MetricSnapshot | None" has no attribute "samples"  [union-attr]
agents/interface/chainlit/tests/test_metric_snapshot_basic.py:13: error: Unsupported operand types for - ("None" and "float")  [operator]
agents/interface/chainlit/tests/test_metric_snapshot_basic.py:13: note: Left operand is of type "float | None"
agents/interface/chainlit/tests/test_metric_classification.py:23: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_classification.py:24: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_classification.py:25: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_classification.py:26: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_metric_classification.py:27: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_metric_classification.py:28: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_metric_classification.py:40: error: Argument 1 to "classify_metric" has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [arg-type]
agents/interface/chainlit/tests/test_metric_classification.py:41: error: Item "None" of "MetricSnapshot | None" has no attribute "state"  [union-attr]
agents/interface/chainlit/tests/test_api_client_lowcov_branches.py:24: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_api_client_lowcov_branches.py:121: error: Library stubs not installed for "requests"  [import-untyped]
agents/interface/chainlit/tests/test_api_client_health_fallback.py:1: error: Library stubs not installed for "requests"  [import-untyped]
agents/interface/chainlit/tests/test_api_client_error_and_parsing.py:1: error: Library stubs not installed for "requests"  [import-untyped]
agents/interface/chainlit/tests/test_api_client_error_and_parsing.py:52: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_api_client_error_and_parsing.py:52: error: Cannot assign to a method  [method-assign]
agents/interface/chainlit/tests/test_api_client_error_and_parsing.py:52: note: Error code "method-assign" not covered by "type: ignore" comment
agents/interface/chainlit/tests/test_api_client_cache_key_and_network.py:1: error: Library stubs not installed for "requests"  [import-untyped]
agents/interface/chainlit/tests/test_api_client_cache_key_and_network.py:1: note: Hint: "python3 -m pip install types-requests"
agents/interface/chainlit/tests/test_api_client_cache_key_and_network.py:1: note: (or run "mypy --install-types" to install all missing stub packages)
agents/interface/chainlit/tests/test_api_client_cache_key_and_network.py:1: note: See https://mypy.readthedocs.io/en/stable/running_mypy.html#missing-imports
agents/core/monitoring/metrics_storage/backup/__init__.py:117: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/backup/__init__.py:121: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/backup/__init__.py:125: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/backup/__init__.py:126: error: "object" has no attribute "append"  [attr-defined]
agents/core/monitoring/metrics_storage/backup/__init__.py:128: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/backup/__init__.py:146: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/backup/__init__.py:169: error: Item "float" of "float | int" has no attribute "isoformat"  [union-attr]
agents/core/monitoring/metrics_storage/backup/__init__.py:169: error: Item "int" of "float | int" has no attribute "isoformat"  [union-attr]
agents/core/monitoring/metrics_storage/backup/__init__.py:170: error: Item "float" of "float | int" has no attribute "isoformat"  [union-attr]
agents/core/monitoring/metrics_storage/backup/__init__.py:170: error: Item "int" of "float | int" has no attribute "isoformat"  [union-attr]
agents/core/monitoring/metrics_storage/backup/__init__.py:234: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:210: error: Incompatible types in assignment (expression has type "int", target has type "str")  [assignment]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:228: error: Incompatible types in assignment (expression has type "int | float", target has type "str")  [assignment]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:330: error: Need type annotation for "all_keys" (hint: "all_keys: set[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:346: error: Need type annotation for "aggregated" (hint: "aggregated: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:394: error: Argument 1 to "_parse_timestamps" has incompatible type "list[int | float | dict[str, Any]]"; expected "list[str | datetime]"  [arg-type]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:400: error: Need type annotation for "result"  [var-annotated]
agents/core/monitoring/metrics_storage/time_series/aggregration.py:606: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/metrics_storage/time_series/operations.py:736: error: Need type annotation for "all_timestamps" (hint: "all_timestamps: set[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/time_series/operations.py:741: error: Need type annotation for "result" (hint: "result: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/time_series/operations.py:586: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:24: error: Name "MetricImportance" already defined (possibly by an import)  [no-redef]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:53: error: Incompatible default for argument "days_to_keep" (default has type "None", argument has type "dict[str, int]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:53: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:53: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:69: error: "DatabaseCleanupMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:98: error: "object" has no attribute "update"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:102: error: "object" has no attribute "update"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:108: error: "object" has no attribute "update"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:112: error: "object" has no attribute "update"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:116: error: "object" has no attribute "update"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:123: error: "object" has no attribute "items"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:124: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:199: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:205: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:234: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:270: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:276: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:323: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:329: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:368: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:382: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:388: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:398: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:448: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:454: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:469: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:487: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:516: error: Too many arguments for "verify_backup_exists"  [call-arg]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:538: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:545: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:550: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:556: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:585: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:586: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:592: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:603: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:604: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:607: error: "object" has no attribute "values"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:620: error: Incompatible default for argument "days_to_keep" (default has type "None", argument has type "dict[str, int]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:620: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:620: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:664: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:668: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:670: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:683: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:687: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:689: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:707: error: "DatabaseCleanupMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:711: error: Unsupported target for indexed assignment ("object")  [index]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:713: error: Unsupported operand types for + ("object" and "int")  [operator]
agents/core/monitoring/metrics_storage/db_storage/cleanup.py:717: error: "object" has no attribute "items"  [attr-defined]
agents/core/monitoring/metrics_storage/base.py:901: error: Incompatible return value type (got "tuple[dict[str, Any], dict[str, str] | None]", expected "bool")  [return-value]
agents/core/monitoring/metrics_storage/base.py:923: error: Need type annotation for "intervals" (hint: "intervals: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/base.py:1061: error: Need type annotation for "severity_counts" (hint: "severity_counts: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/base.py:1067: error: Need type annotation for "component_counts" (hint: "component_counts: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/base.py:1073: error: Need type annotation for "code_counts" (hint: "code_counts: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/base.py:1107: error: Incompatible return value type (got "tuple[dict[str, Any], dict[str, str] | None]", expected "bool")  [return-value]
agents/core/monitoring/metrics_storage/base.py:788: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/base.py:1118: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/base.py:1119: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:52: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:56: error: "TimeSeriesDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:76: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:134: error: Need type annotation for "partitions" (hint: "partitions: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:205: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:214: error: "TimeSeriesDatabaseMixin" has no attribute "_parse_json_field"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:220: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:226: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:283: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:344: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:367: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:373: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:385: error: "TimeSeriesDatabaseMixin" has no attribute "_parse_json_field"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:389: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:428: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:446: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:507: error: Need type annotation for "grouped_results" (hint: "grouped_results: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:552: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:607: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:623: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:627: error: "TimeSeriesDatabaseMixin" has no attribute "_parse_json_field"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:634: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:646: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:675: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:679: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:687: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:704: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:723: error: "TimeSeriesDatabaseMixin" has no attribute "_parse_json_field"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:733: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:746: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:750: error: "TimeSeriesDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:762: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:775: error: "TimeSeriesDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:789: error: "TimeSeriesDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:824: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:832: error: "TimeSeriesDatabaseMixin" has no attribute "_handle_db_error"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/time_series.py:841: error: "TimeSeriesDatabaseMixin" has no attribute "execute_query"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/base.py:87: error: Argument 1 to "__init__" of "MetricsStorageBase" has incompatible type "_DummyStorage"; expected "StorageBase"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/base.py:98: error: Need type annotation for "_query_stats" (hint: "_query_stats: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/base.py:99: error: Need type annotation for "_query_cache" (hint: "_query_cache: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/base.py:100: error: Need type annotation for "_cache_timestamps" (hint: "_cache_timestamps: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/base.py:411: error: Incompatible types in "yield" (actual type "None", expected type "Connection")  [misc]
agents/core/monitoring/metrics_storage/db_storage/base.py:426: error: Incompatible types in "yield" (actual type "None", expected type "Connection")  [misc]
agents/core/monitoring/metrics_storage/db_storage/base.py:496: error: Incompatible types in assignment (expression has type "dict[Any, Any] | None", variable has type "list[dict[Any, Any]]")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/base.py:537: error: Argument 1 has incompatible type "str | None"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/base.py:582: error: Item "list[dict[Any, Any]]" of "list[dict[Any, Any]] | dict[Any, Any]" has no attribute "get"  [union-attr]
agents/core/monitoring/metrics_storage/db_storage/base.py:594: error: Item "None" of "Any | None" has no attribute "build_batch_query"  [union-attr]
agents/core/monitoring/metrics_storage/db_storage/base.py:597: error: Need type annotation for "all_results" (hint: "all_results: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/db_storage/base.py:677: error: Incompatible default for argument "query" (default has type "None", argument has type "str")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/base.py:677: note: PEP 484 prohibits implicit Optional. Accordingly, mypy has changed its default to no_implicit_optional=True
agents/core/monitoring/metrics_storage/db_storage/base.py:677: note: Use https://github.com/hauntsaninja/no_implicit_optional to automatically upgrade your codebase
agents/core/monitoring/metrics_storage/db_storage/base.py:677: error: Incompatible default for argument "query_time" (default has type "None", argument has type "float")  [assignment]
agents/core/monitoring/metrics_storage/db_storage/base.py:817: error: Item "None" of "Any | None" has no attribute "split"  [union-attr]
agents/core/monitoring/metrics_storage/db_storage/base.py:133: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/db_storage/base.py:136: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/db_storage/base.py:139: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:215: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:230: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:333: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:350: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:454: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:477: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:661: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:671: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:707: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:737: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:782: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:791: error: Argument 1 to "append" of "list" has incompatible type "int"; expected "str"  [arg-type]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:805: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:848: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:876: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:915: error: "AggregationDatabaseMixin" has no attribute "use_database"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:945: error: "AggregationDatabaseMixin" has no attribute "get_connection"  [attr-defined]
agents/core/monitoring/metrics_storage/db_storage/aggregation.py:1000: error: Dict entry 5 has incompatible type "str": "str"; expected "str": "int"  [dict-item]
agents/core/monitoring/visualization/base.py:164: error: Need type annotation for "buckets" (hint: "buckets: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/visualization/base.py:231: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/visualization/base.py:288: error: Need type annotation for "all_x" (hint: "all_x: set[<type>] = ...")  [var-annotated]
agents/core/monitoring/visualization/base.py:374: error: Incompatible return value type (got "datetime | str", expected "str")  [return-value]
agents/core/event_bus.py:74: error: Need type annotation for "_recent"  [var-annotated]
agents/core/event_bus.py:135: error: Incompatible default for argument "s" (default has type "_Subscription | None", argument has type "_Subscription")  [assignment]
agents/core/event_bus.py:164: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/messaging/bus.py:162: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/messaging/bus.py:164: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_store.py:75: error: Need type annotation for "_changes"  [var-annotated]
agents/core/state_store.py:287: error: Function "agents.core.state_store.InMemoryStateStore.list" is not valid as a type  [valid-type]
agents/core/state_store.py:287: note: Perhaps you need "Callable[...]" or a callback protocol?
agents/core/state_store.py:379: error: Function "agents.core.state_store.InMemoryStateStore.list" is not valid as a type  [valid-type]
agents/core/state_store.py:379: note: Perhaps you need "Callable[...]" or a callback protocol?
agents/core/state_store.py:104: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_store.py:261: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_store.py:353: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_store.py:359: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/file_storage.py:237: error: Need type annotation for "cache" (hint: "cache: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/file_storage.py:238: error: Need type annotation for "cache_keys" (hint: "cache_keys: list[<type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/storage/file_storage.py:334: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "get_directory_for_category"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:337: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "get_file_extension"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:375: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "storage_format"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:377: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "storage_format"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:377: error: "type[StorageFormat]" has no attribute "JSON_GZ"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:379: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "storage_format"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:381: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "storage_format"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:383: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "storage_format"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:391: error: "type[ErrorCode]" has no attribute "SERIALIZATION_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:484: error: "type[ErrorCode]" has no attribute "DESERIALIZATION_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:552: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "use_date_partitioning"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:708: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "use_date_partitioning"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:733: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "category_subdirectories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:742: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "get_file_extension"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:802: error: "type[ErrorCode]" has no attribute "FILE_DELETE_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:829: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "category_subdirectories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:838: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "get_file_extension"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:842: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "use_date_partitioning"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:857: error: "type[ErrorCode]" has no attribute "FILE_LIST_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:916: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "category_subdirectories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:927: error: "type[ErrorCode]" has no attribute "FILE_LIST_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1113: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "auto_cleanup"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1134: error: Argument "age_thresholds" to "perform_tiered_cleanup" has incompatible type "dict[str, int | None]"; expected "dict[str, int]"  [arg-type]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1295: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "date_format"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1377: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "category_subdirectories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1430: error: "type[ErrorCode]" has no attribute "FILE_LIST_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1458: error: "type[ErrorCode]" has no attribute "FILE_LIST_ERROR"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/file_storage.py:1700: error: Item "StorageOptions" of "Any | StorageOptions" has no attribute "use_date_partitioning"  [union-attr]
agents/interface/chainlit/ws_client.py:24: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/ws_client.py:74: error: Function "builtins.callable" is not valid as a type  [valid-type]
agents/interface/chainlit/ws_client.py:74: note: Perhaps you meant "typing.Callable" instead of "callable"?
agents/interface/chainlit/ws_client.py:102: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/ws_client.py:203: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/widget_helpers.py:39: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:4: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:18: error: Need type annotation for "sent" (hint: "sent: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:34: error: Need type annotation for "captured" (hint: "captured: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:50: error: Need type annotation for "captured" (hint: "captured: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:66: error: Need type annotation for "captured" (hint: "captured: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:85: error: Need type annotation for "captured" (hint: "captured: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_widgets_io_helpers.py:101: error: Need type annotation for "captured" (hint: "captured: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_streaming_request_id_flow.py:67: error: Incompatible types in assignment (expression has type "SimpleNamespace", target has type Module)  [assignment]
agents/interface/chainlit/tests/test_streaming_request_id_flow.py:73: error: Module has no attribute "_api_client"  [attr-defined]
agents/interface/chainlit/tests/test_streaming_request_id_flow.py:88: error: Incompatible types in assignment (expression has type "dict[str, str]", target has type "None")  [assignment]
agents/interface/chainlit/tests/test_chat_ws_render.py:70: error: Incompatible types in assignment (expression has type "SimpleNamespace", target has type Module)  [assignment]
agents/interface/chainlit/tests/test_chat_ws_render.py:78: error: Module has no attribute "_api_client"  [attr-defined]
agents/interface/chainlit/tests/test_chat_ws_render.py:203: error: Incompatible types in assignment (expression has type "SimpleNamespace", target has type Module)  [assignment]
agents/interface/chainlit/tests/test_chat_ws_render.py:207: error: Module has no attribute "_api_client"  [attr-defined]
agents/core/ws_backends/llama.py:47: error: Need type annotation for "chunk_task"  [var-annotated]
agents/core/ws_backends/llama.py:47: error: Argument 1 to "create_task" has incompatible type "Awaitable[str]"; expected "Generator[Any, None, Never] | Coroutine[Any, Any, Never]"  [arg-type]
agents/core/ws_backends/llama.py:60: error: "AsyncIterator[str]" has no attribute "aclose"  [attr-defined]
agents/core/ws_backends/llama.py:85: error: "AsyncIterator[str]" has no attribute "aclose"  [attr-defined]
agents/core/ws_backends/llama.py:86: error: Name "extra" already defined on line 61  [no-redef]
agents/core/ws_backends/llama.py:107: error: "AsyncIterator[str]" has no attribute "aclose"  [attr-defined]
agents/core/ws_backends/llama.py:108: error: Name "extra" already defined on line 61  [no-redef]
agents/core/ws_backends/llama.py:177: error: Name "extra" already defined on line 61  [no-redef]
agents/core/ws_backends/llama.py:195: error: Name "extra" already defined on line 61  [no-redef]
agents/core/monitoring/metrics_storage/db_storage/__init__.py:33: error: Definition of "delete_time_series" in base class "TimeSeriesDatabaseMixin" is incompatible with definition in base class "MetricsStorageBase"  [misc]
agents/core/monitoring/metrics_storage/db_storage/__init__.py:33: error: Definition of "get_time_series" in base class "TimeSeriesDatabaseMixin" is incompatible with definition in base class "MetricsStorageBase"  [misc]
agents/core/monitoring/metrics_storage/db_storage/__init__.py:383: error: Argument 1 of "estimate_cleanup_impact" is incompatible with supertype "agents.core.monitoring.metrics_storage.db_storage.cleanup.DatabaseCleanupMixin"; supertype defines the argument type as "dict[str, int]"  [override]
agents/core/monitoring/metrics_storage/db_storage/__init__.py:383: note: This violates the Liskov substitution principle
agents/core/monitoring/metrics_storage/db_storage/__init__.py:383: note: See https://mypy.readthedocs.io/en/stable/common_issues.html#incompatible-overrides
agents/core/monitoring/visualization/model_performance.py:77: error: Item "None" of "Any | None" has no attribute "get_model_metrics"  [union-attr]
agents/core/monitoring/visualization/model_performance.py:144: error: Item "None" of "Any | None" has no attribute "get_model_metrics"  [union-attr]
agents/core/monitoring/visualization/model_performance.py:313: error: Argument 1 to "_format_timestamp" of "ChartGenerator" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/core/monitoring/visualization/model_performance.py:374: error: Argument "data" to "create_bar_chart_config" has incompatible type "list[int]"; expected "list[float]"  [arg-type]
agents/core/monitoring/visualization/model_performance.py:374: note: "list" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
agents/core/monitoring/visualization/model_performance.py:374: note: Consider using "Sequence" instead, which is covariant
agents/core/monitoring/visualization/model_performance.py:428: error: Item "None" of "Any | None" has no attribute "get_model_metrics"  [union-attr]
agents/core/monitoring/visualization/model_performance.py:474: error: Need type annotation for "result"  [var-annotated]
agents/core/monitoring/visualization/model_performance.py:493: error: Need type annotation for "tasks" (hint: "tasks: set[<type>] = ...")  [var-annotated]
agents/core/monitoring/visualization/model_performance.py:583: error: Argument "data" to "create_pie_chart_config" has incompatible type "list[int]"; expected "list[float]"  [arg-type]
agents/core/monitoring/visualization/model_performance.py:583: note: "list" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
agents/core/monitoring/visualization/model_performance.py:583: note: Consider using "Sequence" instead, which is covariant
agents/core/monitoring/visualization/model_performance.py:637: error: Item "None" of "Any | None" has no attribute "get_model_metrics"  [union-attr]
agents/core/monitoring/visualization/model_performance.py:657: error: Argument 2 to "calculate_percentiles" has incompatible type "list[int]"; expected "list[float]"  [arg-type]
agents/core/monitoring/visualization/model_performance.py:657: note: "list" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
agents/core/monitoring/visualization/model_performance.py:657: note: Consider using "Sequence" instead, which is covariant
agents/core/monitoring/visualization/error_analytics.py:41: error: Item "None" of "Any | None" has no attribute "get_errors"  [union-attr]
agents/core/monitoring/visualization/error_analytics.py:173: error: Item "None" of "Any | None" has no attribute "get_errors"  [union-attr]
agents/core/monitoring/visualization/error_analytics.py:312: error: Item "None" of "Any | None" has no attribute "error_tracker"  [union-attr]
agents/core/monitoring/visualization/error_analytics.py:389: error: Item "None" of "Any | None" has no attribute "get_error_summary"  [union-attr]
agents/core/monitoring/visualization/error_analytics.py:461: error: Item "None" of "Any | None" has no attribute "get_error_summary"  [union-attr]
agents/core/monitoring/visualization/error_analytics.py:506: error: Argument 1 to "create_error_summary" has incompatible type "dict[Any, Any]"; expected "list[dict[str, Any]]"  [arg-type]
agents/core/monitoring/visualization/error_analytics.py:514: error: Unexpected keyword argument "title" for "create_chart_container"  [call-arg]
agents/core/monitoring/visualization/error_analytics.py:514: error: Unexpected keyword argument "height" for "create_chart_container"  [call-arg]
agents/core/monitoring/visualization/batch_metrics.py:116: error: Item "None" of "Any | None" has no attribute "get_batch_metrics"  [union-attr]
agents/core/monitoring/visualization/batch_metrics.py:142: error: Incompatible return value type (got "BarChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/batch_metrics.py:173: error: Incompatible return value type (got "BarChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/batch_metrics.py:233: error: Incompatible return value type (got "BarChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/batch_metrics.py:331: error: Argument "data" to "create_bar_chart_config" has incompatible type "list[int]"; expected "list[float]"  [arg-type]
agents/core/monitoring/visualization/batch_metrics.py:331: note: "list" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
agents/core/monitoring/visualization/batch_metrics.py:331: note: Consider using "Sequence" instead, which is covariant
agents/core/context.py:96: error: Argument 1 to "Path" has incompatible type "str | PathLike[str] | None"; expected "str | PathLike[str]"  [arg-type]
agents/core/context.py:168: error: Argument 1 to "subscribe_change" of "InMemoryStateStore" has incompatible type "Callable[[dict[Any, Any]], Any]"; expected "ChangeHook"  [arg-type]
agents/core/context.py:285: error: Argument 1 to "subscribe_change" of "InMemoryStateStore" has incompatible type "Callable[[dict[Any, Any]], Any]"; expected "ChangeHook"  [arg-type]
agents/core/context.py:257: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/refresh_loop.py:167: error: Incompatible types in assignment (expression has type "Thresholds", variable has type "dict[str, float]")  [assignment]
agents/interface/chainlit/refresh_loop.py:168: error: Argument 2 to "classify_resource" has incompatible type "dict[str, float]"; expected "Thresholds"  [arg-type]
agents/interface/chainlit/refresh_loop.py:169: error: Argument 2 to "classify_resource" has incompatible type "dict[str, float]"; expected "Thresholds"  [arg-type]
agents/interface/chainlit/refresh_loop.py:170: error: Argument 2 to "classify_resource" has incompatible type "dict[str, float]"; expected "Thresholds"  [arg-type]
agents/interface/chainlit/refresh_loop.py:366: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/refresh_loop.py:370: error: Argument 1 to "_resolve_enabled_metrics" of "_RefreshRunner" has incompatible type "Config"; expected "SupportsConfig"  [arg-type]
agents/interface/chainlit/refresh_loop.py:370: note: Following member(s) of "Config" have conflicts:
agents/interface/chainlit/refresh_loop.py:370: note:     refresh_interval_sec: expected "int | float", got "int"
agents/interface/chainlit/refresh_loop.py:370: note: Protocol member SupportsConfig.cpu_critical expected settable variable, got read-only attribute
agents/interface/chainlit/refresh_loop.py:370: note: Protocol member SupportsConfig.cpu_warn expected settable variable, got read-only attribute
agents/interface/chainlit/refresh_loop.py:370: note:     <12 more conflict(s) not shown>
agents/interface/chainlit/refresh_loop.py:441: error: Argument 3 to "_emit_metrics" of "_RefreshRunner" has incompatible type "Config"; expected "SupportsConfig"  [arg-type]
agents/interface/chainlit/refresh_loop.py:441: note: Following member(s) of "Config" have conflicts:
agents/interface/chainlit/refresh_loop.py:441: note:     refresh_interval_sec: expected "int | float", got "int"
agents/interface/chainlit/refresh_loop.py:441: note: Protocol member SupportsConfig.cpu_critical expected settable variable, got read-only attribute
agents/interface/chainlit/refresh_loop.py:441: note: Protocol member SupportsConfig.cpu_warn expected settable variable, got read-only attribute
agents/interface/chainlit/refresh_loop.py:441: note:     <12 more conflict(s) not shown>
agents/interface/chainlit/refresh_loop.py:533: error: Value expression in dictionary comprehension has incompatible type "tuple[str, str]"; expected type "str"  [misc]
agents/interface/chainlit/refresh_loop.py:544: error: Unpacking a string is disallowed  [misc]
agents/interface/chainlit/refresh_loop.py:547: error: Cannot determine type of "h_str"  [has-type]
agents/interface/chainlit/refresh_loop.py:552: error: Cannot determine type of "text"  [has-type]
agents/interface/chainlit/refresh_loop.py:572: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/refresh_loop.py:631: error: "SupportsClient" has no attribute "ui_sidebar_snapshot"  [attr-defined]
agents/interface/chainlit/refresh_loop.py:663: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:663: error: Item "None" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:682: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:682: error: Item "None" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:701: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_prev_status_snapshot_obj"  [union-attr]
agents/interface/chainlit/refresh_loop.py:701: error: Item "None" of "SupportsSidebar | None" has no attribute "_prev_status_snapshot_obj"  [union-attr]
agents/interface/chainlit/refresh_loop.py:703: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:703: error: Item "None" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:727: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:727: error: Item "None" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:811: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:811: error: Item "None" of "SupportsSidebar | None" has no attribute "_latest_status_md"  [union-attr]
agents/interface/chainlit/refresh_loop.py:816: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "_prev_status_snapshot_obj"  [union-attr]
agents/interface/chainlit/refresh_loop.py:816: error: Item "None" of "SupportsSidebar | None" has no attribute "_prev_status_snapshot_obj"  [union-attr]
agents/interface/chainlit/refresh_loop.py:823: error: Item "None" of "SupportsSidebar | None" has no attribute "ensure_initialized"  [union-attr]
agents/interface/chainlit/refresh_loop.py:836: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "set_controls"  [union-attr]
agents/interface/chainlit/refresh_loop.py:836: error: Item "None" of "SupportsSidebar | None" has no attribute "set_controls"  [union-attr]
agents/interface/chainlit/refresh_loop.py:843: error: Item "None" of "SupportsSidebar | None" has no attribute "update_sections"  [union-attr]
agents/interface/chainlit/refresh_loop.py:855: error: Item "SupportsSidebar" of "SupportsSidebar | None" has no attribute "set_controls"  [union-attr]
agents/interface/chainlit/refresh_loop.py:855: error: Item "None" of "SupportsSidebar | None" has no attribute "set_controls"  [union-attr]
agents/interface/chainlit/refresh_loop.py:890: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/refresh_loop.py:1088: error: Item "None" of "Any | None" has no attribute "edit_message"  [union-attr]
agents/interface/chainlit/refresh_loop.py:1096: error: Item "None" of "Any | None" has no attribute "Message"  [union-attr]
agents/interface/chainlit/tests/test_voice_lifecycle.py:39: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_voice_lifecycle.py:106: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_no_import_network.py:16: error: Library stubs not installed for "requests"  [import-untyped]
agents/core/monitoring/metrics_storage/storage/db_runtime/optimizations.py:32: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/db_runtime/optimizations.py:39: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/db_storage.py:949: error: Incompatible types in assignment (expression has type "TimeGranularity", target has type "str | datetime | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/db_storage.py:266: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:94: error: Cannot assign to a type  [misc]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:94: error: Incompatible types in assignment (expression has type "None", variable has type "type[QueryBuilder]")  [assignment]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:160: error: Argument 1 to "__init__" of "MetricsStorageBase" has incompatible type "_DummyStorage"; expected "StorageBase"  [arg-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:165: error: Function "create_cache" could always be true in boolean context  [truthy-function]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:174: error: Function "QueryPerfTracker" could always be true in boolean context  [truthy-function]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:178: error: Need type annotation for "_query_stats" (hint: "_query_stats: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:182: error: Function "runtime_apply_opts" could always be true in boolean context  [truthy-function]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:316: error: Unexpected keyword argument "has_more" for "QueryResult"  [call-arg]
agents/core/monitoring/metrics_storage/query/__init__.py:310: note: "QueryResult" defined here
agents/core/monitoring/metrics_storage/database_metrics_storage.py:317: error: Function "add_pagination_by_timestamp" could always be true in boolean context  [truthy-function]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:455: error: Cannot determine type of "_query_cache_lock"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:457: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:458: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:459: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:460: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:461: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:462: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:465: error: Cannot determine type of "_query_cache_lock"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:466: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:467: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:469: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:470: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:471: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:476: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:478: error: Cannot determine type of "_query_cache"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:479: error: Cannot determine type of "_cache_timestamps"  [has-type]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:47: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:183: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:192: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:195: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:196: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:201: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:202: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:203: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:204: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:228: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:263: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:288: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:297: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:322: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:334: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:406: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:426: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:433: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:485: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:488: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/database_metrics_storage.py:491: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_message_editing.py:5: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_message_editing.py:93: error: Argument 1 to "start_refresh" has incompatible type "FluctuatingClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_wait_paths.py:18: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_wait_paths.py:48: error: Argument 1 to "_update_status" has incompatible type "ErrClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_edge_cases.py:9: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_edge_cases.py:55: error: Argument 1 to "_update_metric" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_edge_cases.py:73: error: Argument 1 to "_update_alerts" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_edge_cases.py:83: error: Argument 1 to "_update_status" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_deterministic_multi.py:95: error: Argument "client" to "start_refresh" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_branches_extra.py:21: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_branches_extra.py:69: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_branches_extra.py:72: error: Argument 1 to "_update_alerts" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_branches_extra.py:76: error: Argument 1 to "_update_alerts" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_branches_extra.py:80: error: Argument 1 to "_update_metric" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:11: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:52: error: Argument 1 to "start_refresh" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:93: error: Argument 1 to "start_refresh" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:119: error: Argument 1 to "_update_metric" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:137: error: Argument 1 to "_update_alerts" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:147: error: Argument 1 to "_update_status" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_additional.py:187: error: Argument 1 to "refresh_once" has incompatible type "Client"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop.py:86: error: Argument 1 to "start_refresh" has incompatible type "DummyClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop.py:131: error: Argument 1 to "start_refresh" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_dedup.py:16: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_dedup.py:57: error: Argument 1 to "_update_status" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_dedup.py:60: error: Argument 1 to "_update_status" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:12: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:59: error: Argument 1 to "_update_status" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:60: error: Argument 1 to "_update_alerts" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:62: error: Argument 1 to "_update_metric" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:67: error: Argument 1 to "_update_status" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:70: error: Argument 1 to "_update_alerts" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_alerts_metric_dedup.py:73: error: Argument 1 to "_update_metric" has incompatible type "ConstClient"; expected "SupportsClient"  [arg-type]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:286: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:288: error: Incompatible types in assignment (expression has type "dict[str, object]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:290: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:292: error: Incompatible types in assignment (expression has type "dict[str, object]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:303: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:305: error: Incompatible types in assignment (expression has type "dict[str, object]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:307: error: Incompatible types in assignment (expression has type "dict[str, Any]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:309: error: Incompatible types in assignment (expression has type "dict[str, object]", target has type "bool | None")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:342: error: Item "None" of "StorageBase | None" has no attribute "get_storage_stats"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:346: error: Item "None" of "StorageBase | None" has no attribute "get_storage_stats"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:389: error: Item "None" of "StorageBase | None" has no attribute "store"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:389: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:392: error: Item "None" of "StorageBase | None" has no attribute "store"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:392: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:405: error: Item "None" of "StorageBase | None" has no attribute "retrieve"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:405: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:408: error: Item "None" of "StorageBase | None" has no attribute "retrieve"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:408: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:411: error: Item "None" of "StorageBase | None" has no attribute "delete"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:411: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:414: error: Item "None" of "StorageBase | None" has no attribute "delete"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:414: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:417: error: Item "None" of "StorageBase | None" has no attribute "list_keys"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:417: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:420: error: Item "None" of "StorageBase | None" has no attribute "list_keys"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:420: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:423: error: Item "StorageBase" of "StorageBase | None" has no attribute "list_categories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:423: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:423: error: Item "None" of "StorageBase | None" has no attribute "list_categories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:426: error: Item "StorageBase" of "StorageBase | None" has no attribute "list_categories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:426: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:426: error: Item "None" of "StorageBase | None" has no attribute "list_categories"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:429: error: Item "None" of "StorageBase | None" has no attribute "backup"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:429: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:432: error: Item "None" of "StorageBase | None" has no attribute "backup"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:432: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:435: error: Item "None" of "StorageBase | None" has no attribute "restore"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:435: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:438: error: Item "None" of "StorageBase | None" has no attribute "restore"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:438: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:441: error: Item "None" of "StorageBase | None" has no attribute "cleanup"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:441: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:444: error: Item "None" of "StorageBase | None" has no attribute "cleanup"  [union-attr]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:444: note: Error code "union-attr" not covered by "type: ignore" comment
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:552: error: Incompatible types in assignment (expression has type "str", target has type "dict[str, int]")  [assignment]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:553: error: Incompatible return value type (got "dict[str, dict[str, int]]", expected "dict[str, dict[str, dict[str, int]] | str]")  [return-value]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:559: error: Too few arguments  [call-arg]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:587: error: "StorageBase" has no attribute "close"  [attr-defined]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:74: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:76: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:77: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:122: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:126: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:389: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:392: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:405: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:408: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:411: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:414: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:417: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:420: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:423: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:426: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:429: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:432: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:435: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:438: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:441: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/backend.py:444: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:113: error: Unexpected keyword argument "status_code" for "Exception"  [call-arg]
agents/core/ws_chat_handlers.py:113: note: Error code "call-arg" not covered by "type: ignore" comment
agents/core/ws_chat_handlers.py:113: error: Unexpected keyword argument "detail" for "Exception"  [call-arg]
agents/core/ws_chat_handlers.py:122: error: Unexpected keyword argument "status_code" for "Exception"  [call-arg]
agents/core/ws_chat_handlers.py:122: note: Error code "call-arg" not covered by "type: ignore" comment
agents/core/ws_chat_handlers.py:122: error: Unexpected keyword argument "detail" for "Exception"  [call-arg]
agents/core/ws_chat_handlers.py:22: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:30: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:113: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:122: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:139: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:141: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:288: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:376: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:377: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/ws_chat_handlers.py:378: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/tracing.py:17: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:171: error: Incompatible types in assignment (expression has type "Event", variable has type "None")  [assignment]
agents/system/agent_base.py:176: error: Incompatible types in assignment (expression has type "Subscriber", variable has type "None")  [assignment]
agents/system/agent_base.py:182: error: Incompatible types in assignment (expression has type "AbstractEventLoop", variable has type "None")  [assignment]
agents/system/agent_base.py:192: error: Incompatible types in assignment (expression has type "AbstractEventLoop", variable has type "None")  [assignment]
agents/system/agent_base.py:195: error: Incompatible types in assignment (expression has type "Event", variable has type "None")  [assignment]
agents/system/agent_base.py:200: error: Incompatible types in assignment (expression has type "Subscriber", variable has type "None")  [assignment]
agents/system/agent_base.py:222: error: Incompatible types in assignment (expression has type "Thread", variable has type "None")  [assignment]
agents/system/agent_base.py:46: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:47: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:48: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:49: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:116: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:245: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:247: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:249: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:302: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:303: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:318: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/agent_base.py:319: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/hybrid_storage/factory.py:10: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/optimization_agent.py:96: error: Incompatible types in assignment (expression has type "int | None", base class "AgentBase" defined the type as "int")  [assignment]
agents/system/optimization_agent.py:487: error: Incompatible types in assignment (expression has type "float", target has type "int")  [assignment]
agents/system/optimization_agent.py:491: error: Incompatible types in assignment (expression has type "float", target has type "int")  [assignment]
agents/system/optimization_agent.py:495: error: Incompatible types in assignment (expression has type "float", target has type "int")  [assignment]
agents/system/optimization_agent.py:110: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_ui_classic_error_badges.py:95: error: Incompatible types in assignment (expression has type "SimpleNamespace", target has type Module)  [assignment]
agents/interface/chainlit/tests/test_ui_classic_error_badges.py:103: error: Module has no attribute "_api_client"  [attr-defined]
agents/interface/chainlit/tests/test_sidebar_integration.py:11: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_sidebar_component.py:6: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_sidebar_component.py:263: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_sidebar_badges.py:42: error: Incompatible types in assignment (expression has type "str", target has type "int")  [assignment]
agents/interface/chainlit/tests/test_sidebar_badges.py:88: error: Argument 1 to "_RefreshRunner" has incompatible type "ClientWithRulesAndStats"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_sidebar_badges.py:88: note: "ClientWithRulesAndStats" is missing following "SupportsClient" protocol members:
agents/interface/chainlit/tests/test_sidebar_badges.py:88: note:     model_selection_metrics_text, parse_selection_counts_by_path
agents/interface/chainlit/tests/test_sidebar_badges.py:100: error: "None" object is not iterable  [misc]
agents/interface/chainlit/tests/test_refresh_runner_single_cycle.py:60: error: Argument 1 to "start_refresh" has incompatible type "StubClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_runner_sidebar_second_cycle.py:89: error: Argument 1 to "_RefreshRunner" has incompatible type "StubClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_runner_sidebar_cycle.py:75: error: Argument 1 to "_RefreshRunner" has incompatible type "StubClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_runner_sidebar_cycle.py:89: error: "None" object is not iterable  [misc]
agents/interface/chainlit/tests/test_refresh_runner_no_samples_no_update.py:84: error: Argument 1 to "start_refresh" has incompatible type "EmptyMetricClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_runner_combined_metrics_mode.py:110: error: Argument 1 to "start_refresh" has incompatible type "MultiMetricClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_metric_render_performance.py:38: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/interface/chainlit/tests/test_metric_multi_integration.py:37: error: List item 0 has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [list-item]
agents/interface/chainlit/tests/test_metric_multi_integration.py:38: error: List item 0 has incompatible type "MetricSnapshot | None"; expected "MetricSnapshot"  [list-item]
agents/interface/chainlit/tests/test_metric_multi_integration.py:38: error: Dict entry 0 has incompatible type "str": "MetricSnapshot | None"; expected "str": "MetricSnapshot"  [dict-item]
agents/interface/chainlit/tests/test_api_client_perform_and_classify.py:4: error: Library stubs not installed for "requests"  [import-untyped]
agents/interface/chainlit/tests/test_api_client_perform_and_classify.py:142: error: Need type annotation for "seq"  [var-annotated]
agents/interface/chainlit/tests/conftest.py:46: error: Module has no attribute "user_session"  [attr-defined]
agents/interface/chainlit/tests/conftest.py:94: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/diagnostic_agent_v2.py:176: error: Incompatible types in assignment (expression has type "Task[None]", variable has type "None")  [assignment]
agents/system/diagnostic_agent_v2.py:176: note: Maybe you forgot to use "await"?
agents/system/diagnostic_agent_v2.py:221: error: Incompatible types in assignment (expression has type "Task[None]", variable has type "None")  [assignment]
agents/system/diagnostic_agent_v2.py:221: note: Maybe you forgot to use "await"?
agents/system/diagnostic_agent_v2.py:114: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/__init__.py:70: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/__init__.py:79: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/__init__.py:97: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/__init__.py:101: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/__init__.py:209: error: Unused "type: ignore" comment  [unused-ignore]
agents/system/__init__.py:226: error: Unused "type: ignore[assignment, attr-defined]" comment  [unused-ignore]
agents/system/__init__.py:230: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/storage/__init__.py:95: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_cache_invalidation.py:76: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_cache_invalidation.py:80: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_cache_invalidation.py:86: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_cache_invalidation.py:94: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_cache_invalidation.py:102: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_cache_invalidation.py:109: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:30: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:33: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:45: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:95: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:146: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:198: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/classic_endpoints.py:236: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/__init__.py:16: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/metrics_storage/__init__.py:30: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/voice.py:36: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/models.py:40: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/models.py:67: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/sse.py:12: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/sse.py:59: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/bypass.py:22: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/bypass.py:56: error: Unused "type: ignore" comment  [unused-ignore]
api/deps.py:19: error: Unused "type: ignore" comment  [unused-ignore]
api/deps.py:20: error: Unused "type: ignore" comment  [unused-ignore]
api/deps.py:39: error: Unused "type: ignore" comment  [unused-ignore]
api/deps.py:46: error: Unused "type: ignore" comment  [unused-ignore]
api/deps.py:83: error: Unused "type: ignore" comment  [unused-ignore]
api/deps.py:115: error: Unused "type: ignore" comment  [unused-ignore]
api/utils/http_cache.py:24: error: Cannot assign to a type  [misc]
api/utils/http_cache.py:24: error: Incompatible types in assignment (expression has type "type[Any]", variable has type "type[Request]")  [assignment]
agents/core/monitoring/visualization/streaming_metrics.py:40: error: Item "None" of "Any | None" has no attribute "get_streaming_metrics"  [union-attr]
agents/core/monitoring/visualization/streaming_metrics.py:84: error: Argument 1 to "_format_timestamp" of "ChartGenerator" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/core/monitoring/visualization/streaming_metrics.py:88: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/streaming_metrics.py:106: error: Argument 1 to "_format_timestamp" of "ChartGenerator" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/core/monitoring/visualization/streaming_metrics.py:112: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/streaming_metrics.py:130: error: Argument 1 to "_format_timestamp" of "ChartGenerator" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/core/monitoring/visualization/streaming_metrics.py:136: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:77: error: Item "None" of "Any | None" has no attribute "get_resource_metrics"  [union-attr]
agents/core/monitoring/visualization/resource_charts.py:181: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:201: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:221: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:238: error: Need type annotation for "gpu_series" (hint: "gpu_series: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/visualization/resource_charts.py:281: error: Incompatible return value type (got "TimeSeriesChartConfig", expected "dict[str, Any] | None")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:326: error: Item "None" of "Any | None" has no attribute "get_resource_metrics"  [union-attr]
agents/core/monitoring/visualization/resource_charts.py:327: error: Item "None" of "Any | None" has no attribute "get_resource_metrics"  [union-attr]
agents/core/monitoring/visualization/resource_charts.py:352: error: Incompatible return value type (got "GaugeChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:364: error: Incompatible return value type (got "GaugeChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:376: error: Incompatible return value type (got "GaugeChartConfig", expected "dict[str, Any]")  [return-value]
agents/core/monitoring/visualization/resource_charts.py:417: error: Incompatible return value type (got "list[GaugeChartConfig]", expected "list[dict[str, Any]]")  [return-value]
agents/core/state_pubsub.py:20: error: Incompatible types in assignment (expression has type "dict[str, str]", variable has type "StateKey | None")  [assignment]
agents/core/state_pubsub.py:27: error: Incompatible types in assignment (expression has type "int | float | JSONList | JSONDict | None", target has type "StateKey | int | None")  [assignment]
agents/core/state_pubsub.py:29: error: Incompatible types in assignment (expression has type "int | float | JSONList | JSONDict | None", target has type "StateKey | int | None")  [assignment]
agents/core/state_pubsub.py:31: error: Incompatible types in assignment (expression has type "str | None", target has type "StateKey | int | None")  [assignment]
agents/core/state_pubsub.py:32: error: Incompatible types in assignment (expression has type "str", target has type "StateKey | int | None")  [assignment]
agents/core/state_pubsub.py:39: error: Argument "namespace" to "StateKey" has incompatible type "Any | None"; expected "Literal['agents', 'tasks', 'ui', 'metrics']"  [arg-type]
agents/core/state_pubsub.py:39: error: Argument "id" to "StateKey" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/core/state_pubsub.py:52: error: Value of "actor" has incompatible type "Any | None"; expected "str"  [typeddict-item]
agents/core/state_pubsub.py:80: error: "None" has no attribute "pubsub"  [attr-defined]
agents/core/state_pubsub.py:81: error: "None" has no attribute "subscribe"  [attr-defined]
agents/core/state_pubsub.py:108: error: Incompatible types in assignment (expression has type "None", variable has type "Callable[[], None]")  [assignment]
agents/core/state_pubsub.py:77: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_pubsub.py:106: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_pubsub.py:169: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/state_pubsub.py:176: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/collector_service.py:210: error: "ResourceMonitor" has no attribute "start"  [attr-defined]
agents/core/monitoring/collector_service.py:220: error: Incompatible types in assignment (expression has type "Thread", variable has type "None")  [assignment]
agents/core/monitoring/collector_service.py:223: error: "None" has no attribute "daemon"  [attr-defined]
agents/core/monitoring/collector_service.py:224: error: "None" has no attribute "start"  [attr-defined]
agents/core/monitoring/collector_service.py:278: error: "ResourceMonitor" has no attribute "stop"  [attr-defined]
agents/core/monitoring/collector_service.py:364: error: TypedDict "SystemStatus" has no key "timestamp"  [typeddict-unknown-key]
agents/core/monitoring/collector_service.py:381: error: "DatabaseMetricsStorage" has no attribute "store_resource_metrics"  [attr-defined]
agents/core/monitoring/collector_service.py:407: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/collector_service.py:425: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/collector_service.py:455: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/collector_service.py:473: error: Argument 1 to "_generate_system_alerts" of "CollectorService" has incompatible type "SystemStatus"; expected "dict[Any, Any]"  [arg-type]
agents/core/monitoring/collector_service.py:484: error: Incompatible types in assignment (expression has type "float", variable has type "int")  [assignment]
agents/core/monitoring/collector_service.py:682: error: "DatabaseMetricsStorage" has no attribute "get_model_metrics"  [attr-defined]
agents/core/monitoring/collector_service.py:722: error: Need type annotation for "model_metrics" (hint: "model_metrics: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/collector_service.py:831: error: "DatabaseMetricsStorage" has no attribute "get_model_metrics"  [attr-defined]
agents/core/monitoring/collector_service.py:1136: error: Argument "batch_sizes" to "find_optimal_batch_size" of "BatchedInferenceTracker" has incompatible type "list[int] | None"; expected "list[int]"  [arg-type]
agents/core/monitoring/collector_service.py:1151: error: "DatabaseMetricsStorage" has no attribute "get_metrics_summary"  [attr-defined]
agents/core/monitoring/collector_service.py:1172: error: "DatabaseMetricsStorage" has no attribute "get_error_summary"  [attr-defined]
api/routers/state_admin.py:35: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/state_admin.py:41: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/health.py:13: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/health.py:124: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/events.py:182: error: Need type annotation for "event_task"  [var-annotated]
api/routers/events.py:182: error: Argument 1 to "create_task" has incompatible type "Awaitable[Event]"; expected "Generator[Any, None, Never] | Coroutine[Any, Any, Never]"  [arg-type]
api/routers/events.py:204: error: Argument 1 to "create_task" has incompatible type "Awaitable[Event]"; expected "Generator[Any, None, Any] | Coroutine[Any, Any, Any]"  [arg-type]
api/routers/events.py:17: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/events.py:26: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/events.py:28: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/events.py:33: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/key_builder.py:156: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/key_builder.py:208: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/key_builder.py:215: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/alerts/evaluator.py:325: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:49: error: Name "HTTPException" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:56: error: Name "JSONResponse" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:56: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:61: error: Name "Request" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:61: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:64: error: Name "APIKeyHeader" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:64: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:75: error: Name "FastAPI" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:75: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:84: error: Name "Depends" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:84: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:88: error: Name "CORSMiddleware" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:88: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:91: error: Name "BaseHTTPMiddleware" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:91: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:95: error: Name "WebSocket" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:95: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:98: error: Name "WebSocketDisconnect" already defined (possibly by an import)  [no-redef]
agents/core/jarvis_api.py:98: note: Error code "no-redef" not covered by "type: ignore" comment
agents/core/jarvis_api.py:295: error: Cannot assign to a type  [misc]
agents/core/jarvis_api.py:295: note: Error code "misc" not covered by "type: ignore" comment
agents/core/jarvis_api.py:306: error: Cannot assign to a type  [misc]
agents/core/jarvis_api.py:306: note: Error code "misc" not covered by "type: ignore" comment
agents/core/jarvis_api.py:865: error: Argument 1 to "handle_chat_session" has incompatible type "**dict[str, object]"; expected "Mapping[str, Any]"  [arg-type]
agents/core/jarvis_api.py:865: error: Argument 1 to "handle_chat_session" has incompatible type "**dict[str, object]"; expected "type[Exception]"  [arg-type]
agents/core/jarvis_api.py:56: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:61: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:64: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:75: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:84: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:88: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:91: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:95: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:98: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:104: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:107: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:119: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:125: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:141: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:150: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:193: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:279: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:284: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:336: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:406: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:414: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:415: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:442: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:498: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:516: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:520: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:522: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:533: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:535: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:539: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:541: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:552: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:554: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:558: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:560: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:566: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:585: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:588: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:591: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:594: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:749: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:764: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:803: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:809: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/jarvis_api.py:828: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/__init__.py:23: error: Unused "type: ignore" comment  [unused-ignore]
agents/__init__.py:22: error: Module "agents" has no attribute "knowledge"  [attr-defined]
agents/core/monitoring/visualization/dashboard.py:246: error: "DashboardGenerator" has no attribute "_fill_dashboard_template"  [attr-defined]
api/routers/visualization.py:69: error: Incompatible types in assignment (expression has type "_DemoStorage", variable has type "DatabaseMetricsStorage")  [assignment]
api/routers/visualization.py:13: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/internal_events.py:5: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/internal_events.py:13: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/internal_events.py:26: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/internal_events.py:37: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:43: error: "subscribe" of "InMemoryStateStore" does not return a value (it only ever returns None)  [func-returns-value]
api/server_components/lifespan.py:43: note: Error code "func-returns-value" not covered by "type: ignore" comment
api/server_components/lifespan.py:82: error: Argument 1 to "subscribe_change" of "InMemoryStateStore" has incompatible type "Callable[[dict[Any, Any]], Any]"; expected "ChangeHook"  [arg-type]
api/server_components/lifespan.py:106: error: Argument 1 to "persist" of "InMemoryStateStore" has incompatible type "str"; expected "Literal['agents', 'tasks', 'ui', 'metrics'] | None"  [arg-type]
api/server_components/lifespan.py:106: note: Error code "arg-type" not covered by "type: ignore" comment
api/server_components/lifespan.py:179: error: Incompatible types in assignment (expression has type "Any | None", variable has type "InMemoryStateStore")  [assignment]
api/server_components/lifespan.py:37: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:43: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:83: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:106: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:110: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:124: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:125: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:151: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:186: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:191: error: Unused "type: ignore" comment  [unused-ignore]
api/server_components/lifespan.py:192: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/__init__.py:43: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/__init__.py:44: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/__init__.py:45: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/__init__.py:46: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/__init__.py:50: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/__init__.py:270: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:490: error: Incompatible types in assignment (expression has type "Any | None", variable has type "str")  [assignment]
api/cache/middleware.py:515: error: Item "None" of "str | None" has no attribute "startswith"  [union-attr]
api/cache/middleware.py:529: error: Unsupported operand types for * ("None" and "float")  [operator]
api/cache/middleware.py:529: note: Left operand is of type "float | int | None"
api/cache/middleware.py:565: error: Argument 2 to "carry_forward_hits" has incompatible type "str"; expected "tuple[str, str]"  [arg-type]
api/cache/middleware.py:85: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:139: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:141: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:143: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:187: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:329: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:667: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/middleware.py:717: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/monitoring/alerts/state_cli.py:200: error: Argument 1 to "parse_args" of "ArgumentParser" has incompatible type "Iterable[str] | None"; expected "Sequence[str] | None"  [arg-type]
agents/interface/chainlit/main.py:203: error: Argument "value" to "_make_action" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/interface/chainlit/main.py:329: error: Name "reason_bits" already defined on line 258  [no-redef]
agents/interface/chainlit/main.py:441: error: Item "None" of "JarvisApiClient | None" has no attribute "alerts"  [union-attr]
agents/interface/chainlit/main.py:452: error: Item "None" of "JarvisApiClient | None" has no attribute "metrics_series"  [union-attr]
agents/interface/chainlit/main.py:485: error: Argument 1 to "start_refresh" has incompatible type "JarvisApiClient | None"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/main.py:1080: error: Argument 1 to "get" of "dict" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/interface/chainlit/main.py:1161: error: Argument 1 to "get" of "dict" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/interface/chainlit/main.py:1161: error: Argument 2 to "get" of "dict" has incompatible type "Any | str"; expected "None"  [arg-type]
agents/interface/chainlit/main.py:1200: error: Unexpected keyword argument "return_base64" for "speak" of "JarvisApiClient"; did you mean "_return_base64"?  [call-arg]
agents/interface/chainlit/api_client.py:510: note: "speak" of "JarvisApiClient" defined here
agents/interface/chainlit/main.py:14: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:84: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:88: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:103: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:106: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:116: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:119: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:123: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/main.py:1209: error: Argument 1 to "get" of "dict" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/interface/chainlit/main.py:1446: error: Argument 1 to "get" of "dict" has incompatible type "Any | None"; expected "str"  [arg-type]
agents/interface/chainlit/tests/test_ws_listener_triggers_refresh.py:73: error: Argument 1 to "start_ws_listener" has incompatible type "SimpleNamespace"; expected "Config"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: error: Argument 1 to "start_refresh" has incompatible type "TrendClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: error: Argument "sidebar" to "start_refresh" has incompatible type "MonitoringSidebar"; expected "SupportsSidebar | None"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: note: Following member(s) of "MonitoringSidebar" have conflicts:
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: note:     Expected:
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: note:         def update_sections(self, **kwargs: Any) -> Coroutine[Any, Any, Any]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: note:     Got:
agents/interface/chainlit/tests/test_refresh_loop_trends.py:94: note:         def update_sections(self, *, changes: dict[str, str | None] | None = ..., status_md: str | None = ..., alerts_md: str | None = ..., metric_md: str | None = ...) -> Coroutine[Any, Any, dict[str, str]]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:116: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:121: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: error: Argument 1 to "start_refresh" has incompatible type "SingleClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: error: Argument "sidebar" to "start_refresh" has incompatible type "MonitoringSidebar"; expected "SupportsSidebar | None"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: note: Following member(s) of "MonitoringSidebar" have conflicts:
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: note:     Expected:
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: note:         def update_sections(self, **kwargs: Any) -> Coroutine[Any, Any, Any]
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: note:     Got:
agents/interface/chainlit/tests/test_refresh_loop_trends.py:182: note:         def update_sections(self, *, changes: dict[str, str | None] | None = ..., status_md: str | None = ..., alerts_md: str | None = ..., metric_md: str | None = ...) -> Coroutine[Any, Any, dict[str, str]]
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: error: Argument 1 to "start_refresh" has incompatible type "SidebarTestClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: error: Argument "sidebar" to "start_refresh" has incompatible type "MonitoringSidebar"; expected "SupportsSidebar | None"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: note: Following member(s) of "MonitoringSidebar" have conflicts:
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: note:     Expected:
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: note:         def update_sections(self, **kwargs: Any) -> Coroutine[Any, Any, Any]
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: note:     Got:
agents/interface/chainlit/tests/test_refresh_loop_sidebar_integration.py:113: note:         def update_sections(self, *, changes: dict[str, str | None] | None = ..., status_md: str | None = ..., alerts_md: str | None = ..., metric_md: str | None = ...) -> Coroutine[Any, Any, dict[str, str]]
agents/interface/chainlit/tests/test_refresh_loop_redundant_state_removed.py:71: error: Argument 1 to "_RefreshRunner" has incompatible type "DummyClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: error: Argument 1 to "start_refresh" has incompatible type "CollectClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: error: Argument "sidebar" to "start_refresh" has incompatible type "MonitoringSidebar"; expected "SupportsSidebar | None"  [arg-type]
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: note: Following member(s) of "MonitoringSidebar" have conflicts:
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: note:     Expected:
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: note:         def update_sections(self, **kwargs: Any) -> Coroutine[Any, Any, Any]
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: note:     Got:
agents/interface/chainlit/tests/test_refresh_loop_collection_helpers.py:106: note:         def update_sections(self, *, changes: dict[str, str | None] | None = ..., status_md: str | None = ..., alerts_md: str | None = ..., metric_md: str | None = ...) -> Coroutine[Any, Any, dict[str, str]]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:6: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:80: error: Argument 1 to "_RefreshRunner" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:81: error: Argument 2 to "_RefreshRunner" has incompatible type "FakeSession"; expected "SupportsSession"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:81: note: Following member(s) of "FakeSession" have conflicts:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:81: note:     Expected:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:81: note:         def get(self, key: str, default: Any = ...) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:81: note:     Got:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:81: note:         def get(self, k: Any) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: error: Argument 1 to "_RefreshRunner" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: error: Argument 2 to "_RefreshRunner" has incompatible type "FakeSession"; expected "SupportsSession"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: note: Following member(s) of "FakeSession" have conflicts:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: note:     Expected:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: note:         def get(self, key: str, default: Any = ...) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: note:     Got:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:137: note:         def get(self, k: Any) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: error: Argument 1 to "_RefreshRunner" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: error: Argument 2 to "_RefreshRunner" has incompatible type "FakeSession"; expected "SupportsSession"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: note: Following member(s) of "FakeSession" have conflicts:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: note:     Expected:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: note:         def get(self, key: str, default: Any = ...) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: note:     Got:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:181: note:         def get(self, k: Any) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:225: error: Argument 1 to "_RefreshRunner" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:226: error: Argument 2 to "_RefreshRunner" has incompatible type "FakeSession"; expected "SupportsSession"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:226: note: Following member(s) of "FakeSession" have conflicts:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:226: note:     Expected:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:226: note:         def get(self, key: str, default: Any = ...) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:226: note:     Got:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:226: note:         def get(self, k: Any) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: error: Argument 1 to "_RefreshRunner" has incompatible type "FakeClient"; expected "SupportsClient"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: error: Argument 2 to "_RefreshRunner" has incompatible type "FakeSession"; expected "SupportsSession"  [arg-type]
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: note: Following member(s) of "FakeSession" have conflicts:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: note:     Expected:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: note:         def get(self, key: str, default: Any = ...) -> Any
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: note:     Got:
agents/interface/chainlit/tests/test_metric_multi_diff_suppression.py:277: note:         def get(self, k: Any) -> Any
agents/core/monitoring/visualization/__init__.py:48: error: Cannot assign to a type  [misc]
agents/core/monitoring/visualization/__init__.py:48: note: Error code "misc" not covered by "type: ignore" comment
agents/core/monitoring/visualization/__init__.py:134: error: Need type annotation for "model_feedback" (hint: "model_feedback: dict[<type>, <type>] = ...")  [var-annotated]
agents/core/monitoring/visualization/__init__.py:209: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/metrics.py:14: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/alerts.py:12: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:18: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:30: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:42: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:53: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:75: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:80: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:142: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:151: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:162: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:222: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:230: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:231: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:233: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:307: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:315: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:326: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/stats.py:360: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:52: error: Argument 1 to "update" of "MutableMapping" has incompatible type "dict[str, float]"; expected "SupportsKeysAndGetItem[str, int]"  [arg-type]
api/cache/install.py:53: error: Incompatible return value type (got "dict[str, int]", expected "dict[str, float]")  [return-value]
api/cache/install.py:53: note: "dict" is invariant -- see https://mypy.readthedocs.io/en/stable/common_issues.html#variance
api/cache/install.py:53: note: Consider using "Mapping" instead, which is covariant in the value type
api/cache/install.py:53: note: Perhaps you need a type annotation for "merged"? Suggestion: "dict[str, float]"
api/cache/install.py:27: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:33: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:41: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:49: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:66: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:105: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:137: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:161: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:164: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:171: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:209: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:219: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:245: error: Unused "type: ignore" comment  [unused-ignore]
api/cache/install.py:259: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_on_chat_start_sidebar_bootstrap.py:91: error: Cannot determine type of "session"  [has-type]
agents/interface/chainlit/tests/test_model_select.py:8: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_model_select.py:10: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_model_router_diagnostics_toggles.py:15: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_model_router_diagnostics_toggles.py:17: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_model_router_diagnostics_toggles.py:30: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_main_paths.py:70: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_main_paths.py:82: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_main_paths.py:93: error: Need type annotation for "c"  [var-annotated]
agents/interface/chainlit/tests/test_main_paths.py:101: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:48: error: Need type annotation for "_backing" (hint: "_backing: dict[<type>, <type>] = ...")  [var-annotated]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:49: error: Module has no attribute "user_session"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:50: error: Module has no attribute "Message"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:51: error: Module has no attribute "edit_message"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:52: error: Module has no attribute "Action"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:53: error: Module has no attribute "on_chat_start"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:54: error: Module has no attribute "on_chat_end"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:55: error: Module has no attribute "action_callback"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:56: error: Module has no attribute "on_message"  [attr-defined]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:97: error: Unused "type: ignore" comment  [unused-ignore]
agents/interface/chainlit/tests/test_chat_end_cleanup.py:98: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/readiness.py:27: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/readiness.py:34: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/readiness.py:45: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/realtime.py:50: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:272: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:278: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:279: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:304: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:336: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:375: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:393: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:396: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:445: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:455: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:458: error: Unused "type: ignore" comment  [unused-ignore]
api/metrics/exposition/cache.py:517: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/rag_retriever.py:82: error: No return value expected  [return-value]
agents/core/rag_retriever.py:62: error: Unused "type: ignore" comment  [unused-ignore]
agents/core/rag_retriever.py:289: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:106: error: No overload variant of "int" matches argument type "object"  [call-overload]
api/routers/chat.py:106: note: Possible overload variants:
api/routers/chat.py:106: note:     def int(str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc = ..., /) -> int
api/routers/chat.py:106: note:     def int(str | bytes | bytearray, /, base: SupportsIndex) -> int
api/routers/chat.py:114: error: Unsupported target for indexed assignment ("object")  [index]
api/routers/chat.py:114: error: "object" has no attribute "get"  [attr-defined]
api/routers/chat.py:123: error: Unsupported target for indexed assignment ("object")  [index]
api/routers/chat.py:123: error: "object" has no attribute "get"  [attr-defined]
api/routers/chat.py:132: error: No overload variant of "int" matches argument type "object"  [call-overload]
api/routers/chat.py:132: note: Possible overload variants:
api/routers/chat.py:132: note:     def int(str | Buffer | SupportsInt | SupportsIndex | SupportsTrunc = ..., /) -> int
api/routers/chat.py:132: note:     def int(str | bytes | bytearray, /, base: SupportsIndex) -> int
api/routers/chat.py:133: error: No overload variant of "dict" matches argument type "object"  [call-overload]
api/routers/chat.py:133: note: Possible overload variants:
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self) -> dict[_KT, _VT]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, **kwargs: _VT) -> dict[str, _VT]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[_KT, _VT], /) -> dict[_KT, _VT]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[str, _VT], /, **kwargs: _VT) -> dict[str, _VT]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, Iterable[tuple[_KT, _VT]], /) -> dict[_KT, _VT]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, Iterable[tuple[str, _VT]], /, **kwargs: _VT) -> dict[str, _VT]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, Iterable[list[str]], /) -> dict[str, str]
api/routers/chat.py:133: note:     def [_KT, _VT] dict(self, Iterable[list[bytes]], /) -> dict[bytes, bytes]
api/routers/chat.py:134: error: No overload variant of "dict" matches argument type "object"  [call-overload]
api/routers/chat.py:134: note: Possible overload variants:
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self) -> dict[_KT, _VT]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, **kwargs: _VT) -> dict[str, _VT]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[_KT, _VT], /) -> dict[_KT, _VT]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, SupportsKeysAndGetItem[str, _VT], /, **kwargs: _VT) -> dict[str, _VT]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, Iterable[tuple[_KT, _VT]], /) -> dict[_KT, _VT]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, Iterable[tuple[str, _VT]], /, **kwargs: _VT) -> dict[str, _VT]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, Iterable[list[str]], /) -> dict[str, str]
api/routers/chat.py:134: note:     def [_KT, _VT] dict(self, Iterable[list[bytes]], /) -> dict[bytes, bytes]
api/routers/chat.py:180: error: Incompatible types in assignment (expression has type "str", variable has type "int | None")  [assignment]
api/routers/chat.py:241: error: Need type annotation for "autos_path_str" (hint: "autos_path_str: dict[<type>, <type>] = ...")  [var-annotated]
api/routers/chat.py:324: error: Item "None" of "str | None" has no attribute "strip"  [union-attr]
api/routers/chat.py:470: error: Item "None" of "Any | None" has no attribute "name"  [union-attr]
api/routers/chat.py:688: error: Incompatible types in assignment (expression has type "dict[str, list[Any] | Any | None]", target has type "str")  [assignment]
api/routers/chat.py:113: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:122: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:271: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:272: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:275: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:277: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:278: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:284: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:392: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:904: error: Unused "type: ignore" comment  [unused-ignore]
api/routers/chat.py:1223: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:208: error: Module "api.routers.ui" has no attribute "router"  [attr-defined]
api/server_app_factory.py:342: error: Function "_get_cache_mw" could always be true in boolean context  [truthy-function]
api/server_app_factory.py:344: error: Function "_get_cache_stats" could always be true in boolean context  [truthy-function]
api/server_app_factory.py:67: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:106: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:137: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:212: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:219: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:277: error: Unused "type: ignore" comment  [unused-ignore]
api/server_app_factory.py:393: error: Unused "type: ignore" comment  [unused-ignore]
api/server.py:13: error: Unused "type: ignore" comment  [unused-ignore]
api/utils/cache_selfcheck.py:92: error: Incompatible types in assignment (expression has type "FastAPI", variable has type "AnnotationCachingMiddleware")  [assignment]
Found 1242 errors in 166 files (checked 121 source files)
